(this["webpackJsonpredux-photo-app"]=this["webpackJsonpredux-photo-app"]||[]).push([[4],{137:function(e,t,a){},138:function(e,t,a){},143:function(e,t,a){},161:function(e,t,a){e.exports=a.p+"static/media/orange-bg.e6624e7e.jpg"},162:function(e,t,a){e.exports=a.p+"static/media/blue-bg.146c36c8.jpg"},163:function(e,t,a){e.exports=a.p+"static/media/colorful-bg.cb9ae265.jpg"},164:function(e,t,a){e.exports=a.p+"static/media/pink-bg.c8426a37.jpg"},165:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),l=a(7),r=a(168),c=a(20);a(137),a(138);function i(e){var t=e.title,a=e.backgroundUrl,o=a?{backgroundImage:"url(".concat(a,")")}:{};return n.a.createElement("section",{className:"banner",style:o},n.a.createElement("h1",{className:"banner__title"},t))}i.defaultProps={title:"",backgroundUrl:""};var u=i,m=a(169),s=a(173),d=a(174),p=a(101),h=a(166),v=[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}],b=a(170),f=a(171),E=a(172);function g(e){var t=e.field,a=e.form,o=e.type,l=e.label,r=e.placeholder,c=e.disabled,i=t.name,u=a.errors,s=a.touched,d=u[i]&&s[i];return n.a.createElement(m.a,null,l&&n.a.createElement(b.a,{for:i},l),n.a.createElement(f.a,Object.assign({id:i},t,{type:o,disabled:c,placeholder:r,invalid:d})),n.a.createElement(p.a,{name:i,component:E.a}))}g.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var k=g,y=a(10),C=a.n(y),P=a(15);a(143);O.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var j=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")};function O(e){var t=e.name,a=e.imageUrl,o=e.onImageUrlChange,l=e.onRandomButtonBlur;console.log("imageUrl: ",a);var r=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&(t=j(),o(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"random-photo"},n.a.createElement("div",{className:"random-photo__button"},n.a.createElement(s.a,{outline:!0,name:t,color:"primary",onBlur:l,onClick:r},"Random a photo")),n.a.createElement("div",{className:"random-photo__photo"},a&&n.a.createElement("img",{src:a,alt:"Ooops ... not found. Please click random again!",onError:r})))}var N=O;function _(e){var t=e.field,a=e.form,o=e.label,l=t.name,r=t.value,c=t.onBlur,i=a.errors,u=a.touched,s=i[l]&&u[l];return n.a.createElement(m.a,null,o&&n.a.createElement(b.a,{for:l},o),n.a.createElement(N,{name:l,imageUrl:r,onImageUrlChange:function(e){a.setFieldValue(l,e)},onRandomButtonBlur:c}),n.a.createElement("div",{className:s?"is-invalid":""}),n.a.createElement(p.a,{name:l,component:E.a}))}_.defaultProps={label:""};var R=_,B=a(167);function I(e){var t=e.field,a=e.form,o=e.options,l=e.label,r=e.placeholder,c=e.disabled,i=t.name,u=t.value,s=a.errors,d=a.touched,h=s[i]&&d[i],v=o.find((function(e){return e.value===u}));return n.a.createElement(m.a,null,l&&n.a.createElement(b.a,{for:i},l),n.a.createElement(B.a,Object.assign({id:i},t,{value:v,onChange:function(e){var a=e?e.value:e,o={target:{name:i,value:a}};t.onChange(o)},placeholder:r,isDisabled:c,options:o,className:h?"is-invalid":""})),n.a.createElement(p.a,{name:i,component:E.a}))}I.defaultProps={label:"",placeholder:"",disabled:!1,options:[]};var U=I;function x(e){var t=e.initialValues,a=e.isAddMode,o=h.b().shape({title:h.c().required("This field is required."),categoryId:h.a().required("This field is required.").nullable(),photo:h.c().when("categoryId",{is:1,then:h.c().required("This field is required."),otherwise:h.c().notRequired()})});return n.a.createElement(p.d,{initialValues:t,validationSchema:o,onSubmit:e.onSubmit},(function(e){var t=e.values,o=e.errors,l=e.touched,r=e.isSubmitting;return console.log({values:t,errors:o,touched:l,isSubmitting:r}),n.a.createElement(p.c,null,n.a.createElement(p.b,{name:"title",component:k,label:"Title",placeholder:"Eg: Wow nature ..."}),n.a.createElement(p.b,{name:"categoryId",component:U,label:"Category",placeholder:"What's your photo category?",options:v}),n.a.createElement(p.b,{name:"photo",component:R,label:"Photo"}),n.a.createElement(m.a,null,n.a.createElement(s.a,{type:"submit",color:a?"primary":"success"},r&&n.a.createElement(d.a,{size:"sm"}),a?"Add to album":"Update your photo")))}))}x.defaultProps={onSubmit:null};var w=x,S=a(18);var q=function(){var e=Object(c.b)(),t=Object(l.g)(),a=Object(l.h)().photoId,o=!a,i=Object(c.c)((function(e){var t=e.photos.find((function(e){return e.id===+a}));return console.log({photos:e.photos,photoId:a,foundPhoto:t}),t}));console.log({photoId:a,editedPhoto:i});var m=o?{title:"",categoryId:null,photo:""}:i;return n.a.createElement("div",{className:"photo-edit"},n.a.createElement(u,{title:"Pick your amazing photo \ud83d\ude0e"}),n.a.createElement("div",{className:"photo-edit__form"},n.a.createElement(w,{isAddMode:o,initialValues:m,onSubmit:function(a){return new Promise((function(n){console.log("Form submit: ",a),setTimeout((function(){if(o){var l=Object(r.a)(Object(r.a)({},a),{},{id:(u=1e4,m=99999,u+Math.trunc(Math.random()*(m-u)))}),c=Object(S.a)(l);console.log({action:c}),e(c)}else{var i=Object(S.d)(a);e(i)}var u,m;t.push("/photos"),n(!0)}),5e3)}))}})))},A=a(17),G=a(177),L=a(161),M=a.n(L),T=a(162),z=a.n(T),V=a(163),F=a.n(V),J=a(164),K=a.n(J),W={ORANGE_BG:M.a,BLUE_BG:z.a,COLORFUL_BG:F.a,PINK_BG:K.a},D=a(175),Y=a(176);a(165);function H(e){var t=e.photo,a=e.onEditClick,o=e.onRemoveClick;return n.a.createElement("div",{className:"photo"},n.a.createElement("img",{src:t.photo,alt:t.title}),n.a.createElement("div",{className:"photo__overlay"},n.a.createElement("h3",{className:"photo__title"},t.title),n.a.createElement("div",{className:"photo__actions"},n.a.createElement("div",null,n.a.createElement(s.a,{outline:!0,size:"sm",color:"light",onClick:function(){a&&a(t)}},"Edit")),n.a.createElement("div",null,n.a.createElement(s.a,{outline:!0,size:"sm",color:"danger",onClick:function(){o&&o(t)}},"Remove")))))}H.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var Q=H;function X(e){var t=e.photoList,a=e.onPhotoEditClick,o=e.onPhotoRemoveClick;return n.a.createElement(D.a,null,t.map((function(e){return n.a.createElement(Y.a,{key:e.id,xs:"12",md:"6",lg:"3"},n.a.createElement(Q,{photo:e,onEditClick:a,onRemoveClick:o}))})))}X.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var Z=X;var $=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.photos})),a=Object(l.g)();return Object(o.useEffect)((function(){console.log(t)})),n.a.createElement("div",null,n.a.createElement(u,{title:"\ud83c\udf89 Your awesome photos \ud83c\udf89",backgroundUrl:W.PINK_BG}),n.a.createElement(G.a,{className:"text-center"},n.a.createElement("div",{className:"py-5"},n.a.createElement(A.b,{to:"/photos/add"},"Add new photo")),n.a.createElement(Z,{photoList:t,onPhotoEditClick:function(e){console.log("Edit: ",e);var t="/photos/".concat(e.id);a.push(t)},onPhotoRemoveClick:function(t){console.log("Remove: ",t);var a=t.id,o=Object(S.c)(a);e(o)}})))};t.default=function(){var e=Object(l.i)();return n.a.createElement(l.d,null,n.a.createElement(l.b,{exact:!0,path:e.url,component:$}),n.a.createElement(l.b,{path:"".concat(e.url,"/add"),component:q}),n.a.createElement(l.b,{path:"".concat(e.url,"/:photoId"),component:q}))}}}]);
//# sourceMappingURL=4.c9737bd4.chunk.js.map