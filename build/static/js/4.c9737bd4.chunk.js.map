{"version":3,"sources":["assets/images/orange-bg.jpg","assets/images/blue-bg.jpg","assets/images/colorful-bg.jpg","assets/images/pink-bg.jpg","components/Banner/index.jsx","constants/global.js","custom-fields/InputField/index.jsx","components/RandomPhoto/index.jsx","custom-fields/RandomPhotoField/index.jsx","custom-fields/SelectField/index.jsx","features/Photo/components/PhotoForm/index.jsx","features/Photo/pages/AddEdit/index.jsx","utils/common.js","constants/images.js","features/Photo/components/PhotoCard/index.jsx","features/Photo/components/PhotoList/index.jsx","features/Photo/pages/Main/index.jsx","features/Photo/index.jsx"],"names":["module","exports","Banner","props","title","backgroundUrl","bannerStyle","backgroundImage","className","style","defaultProps","PHOTO_CATEGORY_OPTIONS","value","label","InputField","field","form","type","placeholder","disabled","name","errors","touched","showError","FormGroup","Label","for","Input","id","invalid","component","FormFeedback","RandomPhoto","imageUrl","onImageUrlChange","onRandomButtonBlur","getRandomImageUrl","randomId","Math","trunc","random","console","log","handleRandomPhotoClick","a","randomImageUrl","Button","outline","color","onBlur","onClick","src","alt","onError","RandomPhotoField","newImageUrl","setFieldValue","SelectField","options","selectedOption","find","option","onChange","selectedValue","changeEvent","target","isDisabled","PhotoForm","initialValues","isAddMode","validationSchema","Yup","shape","required","categoryId","nullable","photo","when","is","then","otherwise","notRequired","onSubmit","formikProps","values","isSubmitting","Spinner","size","AddEditPage","dispatch","useDispatch","history","useHistory","photoId","useParams","editedPhoto","useSelector","state","foundPhoto","photos","x","Promise","resolve","setTimeout","newPhoto","min","max","action","addPhoto","updatePhoto","push","Images","ORANGE_BG","orangeBackground","BLUE_BG","blueBackground","COLORFUL_BG","colorfulBackground","PINK_BG","pinkBackground","PhotoCard","onEditClick","onRemoveClick","PhotoList","photoList","onPhotoEditClick","onPhotoRemoveClick","Row","map","Col","key","xs","md","lg","MainPage","useEffect","Container","to","editPhotoUrl","removePhotoId","removePhoto","Photo","match","useRouteMatch","exact","path","url"],"mappings":"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","file":"static/js/4.c9737bd4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/orange-bg.e6624e7e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/blue-bg.146c36c8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/colorful-bg.cb9ae265.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pink-bg.c8426a37.jpg\";","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport './Banner.scss';\r\n\r\nBanner.propTypes = {\r\n  title: PropTypes.string,\r\n  backgroundUrl: PropTypes.string,\r\n};\r\n\r\nBanner.defaultProps = {\r\n  title: '',\r\n  backgroundUrl: '',\r\n}\r\n\r\nfunction Banner(props) {\r\n  const { title, backgroundUrl } = props;\r\n\r\n  const bannerStyle = backgroundUrl\r\n    ? { backgroundImage: `url(${backgroundUrl})` }\r\n    : {}\r\n\r\n  return (\r\n    <section className=\"banner\" style={bannerStyle}>\r\n      <h1 className=\"banner__title\">{title}</h1>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Banner;","\r\nexport const PHOTO_CATEGORY_OPTIONS = [\r\n  { value: 1, label: 'Technology' },\r\n  { value: 2, label: 'Education' },\r\n  { value: 3, label: 'Nature' },\r\n  { value: 4, label: 'Animals' },\r\n  { value: 5, label: 'Styles' },\r\n];\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { FormGroup, Input, Label, FormFeedback } from 'reactstrap';\r\nimport { ErrorMessage } from 'formik';\r\n\r\nInputField.propTypes = {\r\n  field: PropTypes.object.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n\r\n  type: PropTypes.string,\r\n  label: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nInputField.defaultProps = {\r\n  type: 'text',\r\n  label: '',\r\n  placeholder: '',\r\n  disabled: false,\r\n};\r\n\r\nfunction InputField(props) {\r\n  const {\r\n    field, form,\r\n    type, label, placeholder, disabled,\r\n  } = props;\r\n  const { name } = field;\r\n  const { errors, touched } = form;\r\n  const showError = errors[name] && touched[name];\r\n\r\n  return (\r\n    <FormGroup>\r\n      {label && <Label for={name}>{label}</Label>}\r\n\r\n      <Input\r\n        id={name}\r\n        {...field}\r\n\r\n        type={type}\r\n        disabled={disabled}\r\n        placeholder={placeholder}\r\n\r\n        invalid={showError}\r\n      />\r\n\r\n      <ErrorMessage name={name} component={FormFeedback} />\r\n    </FormGroup>\r\n  );\r\n}\r\n\r\nexport default InputField;","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport './RandomPhoto.scss';\r\n\r\nRandomPhoto.propTypes = {\r\n  name: PropTypes.string,\r\n  imageUrl: PropTypes.string,\r\n  onImageUrlChange: PropTypes.func,\r\n  onRandomButtonBlur: PropTypes.func,\r\n};\r\n\r\nRandomPhoto.defaultProps = {\r\n  name: '',\r\n  imageUrl: '',\r\n  onImageUrlChange: null,\r\n  onRandomButtonBlur: null,\r\n}\r\n\r\nconst getRandomImageUrl = () => {\r\n  const randomId = Math.trunc(Math.random() * 2000);\r\n  return `https://picsum.photos/id/${randomId}/300/300`;\r\n}\r\n\r\nfunction RandomPhoto(props) {\r\n  const { name, imageUrl, onImageUrlChange, onRandomButtonBlur } = props;\r\n  console.log(\"imageUrl: \", imageUrl);\r\n\r\n  const handleRandomPhotoClick = async () => {\r\n    if (onImageUrlChange) {\r\n      const randomImageUrl = getRandomImageUrl();\r\n      onImageUrlChange(randomImageUrl);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"random-photo\">\r\n      <div className=\"random-photo__button\">\r\n        <Button\r\n          outline\r\n          name={name}\r\n          color=\"primary\"\r\n          onBlur={onRandomButtonBlur}\r\n          onClick={handleRandomPhotoClick}\r\n        >\r\n          Random a photo\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"random-photo__photo\">\r\n        {imageUrl && (\r\n          <img\r\n            src={imageUrl}\r\n            alt=\"Ooops ... not found. Please click random again!\"\r\n            onError={handleRandomPhotoClick}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RandomPhoto;","import RandomPhoto from 'components/RandomPhoto';\r\nimport { ErrorMessage } from 'formik';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { FormFeedback, FormGroup, Label } from 'reactstrap';\r\n\r\nRandomPhotoField.propTypes = {\r\n  field: PropTypes.object.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n\r\n  label: PropTypes.string,\r\n};\r\n\r\nRandomPhotoField.defaultProps = {\r\n  label: '',\r\n}\r\n\r\nfunction RandomPhotoField(props) {\r\n  const { field, form, label } = props;\r\n  const { name, value, onBlur } = field;\r\n  const { errors, touched } = form;\r\n  const showError = errors[name] && touched[name];\r\n\r\n  const handleImageUrlChange = (newImageUrl) => {\r\n    form.setFieldValue(name, newImageUrl)\r\n  }\r\n\r\n  return (\r\n    <FormGroup>\r\n      {label && <Label for={name}>{label}</Label>}\r\n\r\n      <RandomPhoto\r\n        name={name}\r\n        imageUrl={value}\r\n        onImageUrlChange={handleImageUrlChange}\r\n        onRandomButtonBlur={onBlur}\r\n      />\r\n\r\n      <div className={showError ? 'is-invalid' : ''}></div>\r\n      <ErrorMessage name={name} component={FormFeedback} />\r\n    </FormGroup>\r\n  );\r\n}\r\n\r\nexport default RandomPhotoField;","import { ErrorMessage } from 'formik';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Select from 'react-select';\r\nimport { FormFeedback, FormGroup, Label } from 'reactstrap';\r\n\r\nSelectField.propTypes = {\r\n  field: PropTypes.object.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n\r\n  label: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  options: PropTypes.array,\r\n};\r\n\r\nSelectField.defaultProps = {\r\n  label: '',\r\n  placeholder: '',\r\n  disabled: false,\r\n  options: [],\r\n}\r\n\r\nfunction SelectField(props) {\r\n  const { field, form, options, label, placeholder, disabled } = props;\r\n  const { name, value } = field;\r\n  const { errors, touched } = form;\r\n  const showError = errors[name] && touched[name];\r\n\r\n  const selectedOption = options.find(option => option.value === value);\r\n\r\n  const handleSelectedOptionChange = (selectedOption) => {\r\n    const selectedValue = selectedOption ? selectedOption.value : selectedOption;\r\n\r\n    const changeEvent = {\r\n      target: {\r\n        name: name,\r\n        value: selectedValue\r\n      }\r\n    };\r\n    field.onChange(changeEvent);\r\n  }\r\n\r\n  return (\r\n    <FormGroup>\r\n      {label && <Label for={name}>{label}</Label>}\r\n\r\n      <Select\r\n        id={name}\r\n        {...field}\r\n        value={selectedOption}\r\n        onChange={handleSelectedOptionChange}\r\n\r\n        placeholder={placeholder}\r\n        isDisabled={disabled}\r\n        options={options}\r\n\r\n        className={showError ? 'is-invalid' : ''}\r\n      />\r\n\r\n      <ErrorMessage name={name} component={FormFeedback} />\r\n    </FormGroup>\r\n  );\r\n}\r\n\r\nexport default SelectField;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, FormGroup, Spinner } from 'reactstrap';\r\nimport { FastField, Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport { PHOTO_CATEGORY_OPTIONS } from 'constants/global';\r\nimport InputField from 'custom-fields/InputField';\r\nimport RandomPhotoField from 'custom-fields/RandomPhotoField';\r\nimport SelectField from 'custom-fields/SelectField';\r\n\r\nPhotoForm.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nPhotoForm.defaultProps = {\r\n  onSubmit: null,\r\n}\r\n\r\nfunction PhotoForm(props) {\r\n  const { initialValues, isAddMode } = props;\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    title: Yup.string().required('This field is required.'),\r\n\r\n    categoryId: Yup.number()\r\n      .required('This field is required.')\r\n      .nullable(),\r\n\r\n    photo: Yup.string().when('categoryId', {\r\n      is: 1,\r\n      then: Yup.string().required('This field is required.'),\r\n      otherwise: Yup.string().notRequired(),\r\n    })\r\n  });\r\n\r\n  // npm i --save react-select\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={props.onSubmit}\r\n    >\r\n      {formikProps => {\r\n        // do something here ...\r\n        const { values, errors, touched, isSubmitting } = formikProps;\r\n        console.log({ values, errors, touched, isSubmitting });\r\n\r\n        return (\r\n          <Form>\r\n            <FastField\r\n              name=\"title\"\r\n              component={InputField}\r\n\r\n              label=\"Title\"\r\n              placeholder=\"Eg: Wow nature ...\"\r\n            />\r\n\r\n            <FastField\r\n              name=\"categoryId\"\r\n              component={SelectField}\r\n\r\n              label=\"Category\"\r\n              placeholder=\"What's your photo category?\"\r\n              options={PHOTO_CATEGORY_OPTIONS}\r\n            />\r\n\r\n            <FastField\r\n              name=\"photo\"\r\n              component={RandomPhotoField}\r\n              label=\"Photo\"\r\n            />\r\n\r\n            <FormGroup>\r\n              <Button type=\"submit\" color={isAddMode ? 'primary' : 'success'}>\r\n                {isSubmitting && <Spinner size=\"sm\" />}\r\n                {isAddMode ? 'Add to album' : 'Update your photo'}\r\n              </Button>\r\n            </FormGroup>\r\n          </Form>\r\n        );\r\n      }}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default PhotoForm;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport './AddEdit.scss';\r\nimport Banner from 'components/Banner';\r\nimport PhotoForm from 'features/Photo/components/PhotoForm';\r\nimport { addPhoto, updatePhoto } from 'features/Photo/photoSlice';\r\nimport { randomNumber } from 'utils/common';\r\n\r\nAddEditPage.propTypes = {};\r\n\r\nfunction AddEditPage() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { photoId } = useParams();\r\n  const isAddMode = !photoId;\r\n\r\n\r\n  const editedPhoto = useSelector(state => {\r\n    const foundPhoto = state.photos.find(x => x.id === +photoId);\r\n    console.log({ photos: state.photos, photoId, foundPhoto });\r\n    return foundPhoto;\r\n  });\r\n  console.log({ photoId, editedPhoto })\r\n\r\n  const initialValues = isAddMode\r\n    ? {\r\n      title: '',\r\n      categoryId: null,\r\n      photo: '',\r\n    }\r\n    : editedPhoto;\r\n\r\n  const handleSubmit = (values) => {\r\n    return new Promise(resolve => {\r\n      console.log('Form submit: ', values);\r\n\r\n      setTimeout(() => {\r\n        if (isAddMode) {\r\n          const newPhoto = {\r\n            ...values,\r\n            id: randomNumber(10000, 99999),\r\n          }\r\n          const action = addPhoto(newPhoto);\r\n          console.log({ action });\r\n          dispatch(action);\r\n        } else {\r\n          // Do something here\r\n          const action = updatePhoto(values);\r\n          dispatch(action);\r\n        }\r\n\r\n        history.push('/photos');\r\n        resolve(true);\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"photo-edit\">\r\n      <Banner title=\"Pick your amazing photo 😎\" />\r\n\r\n      <div className=\"photo-edit__form\">\r\n        <PhotoForm\r\n          isAddMode={isAddMode}\r\n          initialValues={initialValues}\r\n          onSubmit={handleSubmit}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddEditPage;","\r\nexport const randomNumber = (min, max) => {\r\n  return min + Math.trunc(Math.random() * (max - min));\r\n}","import orangeBackground from '../assets/images/orange-bg.jpg';\r\nimport blueBackground from '../assets/images/blue-bg.jpg';\r\nimport colorfulBackground from '../assets/images/colorful-bg.jpg';\r\nimport pinkBackground from '../assets/images/pink-bg.jpg';\r\n\r\nconst Images = {\r\n  ORANGE_BG: orangeBackground,\r\n  BLUE_BG: blueBackground,\r\n  COLORFUL_BG: colorfulBackground,\r\n  PINK_BG: pinkBackground\r\n}\r\n\r\nexport default Images;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport './PhotoCard.scss';\r\n\r\nPhotoCard.propTypes = {\r\n  photo: PropTypes.object,\r\n  onEditClick: PropTypes.func,\r\n  onRemoveClick: PropTypes.func,\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  photo: {},\r\n  onEditClick: null,\r\n  onRemoveClick: null,\r\n}\r\n\r\nfunction PhotoCard(props) {\r\n  const { photo, onEditClick, onRemoveClick } = props;\r\n\r\n  const handleEditClick = () => {\r\n    if (onEditClick) onEditClick(photo);\r\n  }\r\n\r\n  const handleRemoveClick = () => {\r\n    if (onRemoveClick) onRemoveClick(photo);\r\n  }\r\n\r\n  return (\r\n    <div className=\"photo\">\r\n      <img src={photo.photo} alt={photo.title} />\r\n\r\n      <div className=\"photo__overlay\">\r\n        <h3 className=\"photo__title\">{photo.title}</h3>\r\n\r\n        <div className=\"photo__actions\">\r\n          <div>\r\n            <Button outline size=\"sm\" color=\"light\" onClick={handleEditClick}>\r\n              Edit\r\n            </Button>\r\n          </div>\r\n\r\n          <div>\r\n            <Button outline size=\"sm\" color=\"danger\" onClick={handleRemoveClick}>\r\n              Remove\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PhotoCard from '../PhotoCard';\r\n\r\nPhotoList.propTypes = {\r\n  photoList: PropTypes.array,\r\n  onPhotoEditClick: PropTypes.func,\r\n  onPhotoRemoveClick: PropTypes.func,\r\n};\r\n\r\nPhotoList.defaultProps = {\r\n  photoList: [],\r\n  onPhotoEditClick: null,\r\n  onPhotoRemoveClick: null,\r\n};\r\n\r\nfunction PhotoList(props) {\r\n  const { photoList, onPhotoEditClick, onPhotoRemoveClick } = props;\r\n\r\n  return (\r\n    <Row>\r\n      {photoList.map(photo => (\r\n        <Col key={photo.id} xs=\"12\" md=\"6\" lg=\"3\">\r\n          <PhotoCard\r\n            photo={photo}\r\n            onEditClick={onPhotoEditClick}\r\n            onRemoveClick={onPhotoRemoveClick}\r\n          />\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PhotoList;","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport Banner from 'components/Banner';\r\nimport Images from 'constants/images';\r\nimport PhotoList from 'features/Photo/components/PhotoList';\r\nimport { removePhoto } from 'features/Photo/photoSlice';\r\n\r\nMainPage.propTypes = {};\r\n\r\nfunction MainPage() {\r\n  const dispatch = useDispatch();\r\n  const photos = useSelector(state => state.photos);\r\n  const history = useHistory();\r\n  // console.log('List of photos: ', photos);\r\n\r\n  useEffect(() => {\r\n    console.log(photos);\r\n  });\r\n\r\n  const handlePhotoEditClick = (photo) => {\r\n    console.log('Edit: ', photo);\r\n    const editPhotoUrl = `/photos/${photo.id}`;\r\n    history.push(editPhotoUrl);\r\n  }\r\n\r\n  const handlePhotoRemoveClick = (photo) => {\r\n    console.log('Remove: ', photo);\r\n    const removePhotoId = photo.id;\r\n    const action = removePhoto(removePhotoId);\r\n    dispatch(action);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Banner title=\"🎉 Your awesome photos 🎉\" backgroundUrl={Images.PINK_BG} />\r\n\r\n      <Container className=\"text-center\">\r\n        <div className=\"py-5\">\r\n          <Link to=\"/photos/add\">Add new photo</Link>\r\n        </div>\r\n\r\n        <PhotoList\r\n          photoList={photos}\r\n          onPhotoEditClick={handlePhotoEditClick}\r\n          onPhotoRemoveClick={handlePhotoRemoveClick}\r\n        />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPage;","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport AddEditPage from './pages/AddEdit';\r\nimport MainPage from './pages/Main';\r\n\r\nPhoto.propTypes = {};\r\n\r\nfunction Photo() {\r\n  const match = useRouteMatch();\r\n  // console.log({ match });\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path={match.url} component={MainPage} />\r\n\r\n      <Route path={`${match.url}/add`} component={AddEditPage} />\r\n      <Route path={`${match.url}/:photoId`} component={AddEditPage} />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default Photo;"],"sourceRoot":""}